<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign Up</title>
    <link rel="stylesheet" href="css/signup.css"/>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <!-- CSS Files -->
    <link href="db-front/assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="db-front/assets/css/now-ui-dashboard.css?v=1.0.1" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="db-front/assets/demo/demo.css" rel="stylesheet" />
    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/vendor.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/modal.css">

    <link rel="stylesheet" href="css/updated.css" />
    <link rel="stylesheet" href="css/popup.css" />

    <!-- script
    ================================================== -->
    <script src="js/modernizr.js"></script>
    <script src="js/pace.min.js"></script>

    <!-- favicons
    ================================================== -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

</head>
<body>

<div class="wrapper ">

    <div class="main-panel">

        <!-- End Navbar -->
        <header class="s-header">
            <div class="header-logo">
                <a class="site-logo" href="index.html">
                    <img src="images/solv/gifs/gif-faster-smaller.gif" alt="Homepage" height="60" width="60">
                </a>

            </div>
            <!--Removed menu for now <DIV>-->
            <div class="big-desktop-view nav-bar-cont">
                <div class="nav-bar">
                    <a href="index.html" class="btn nav-bar-a">Home</a>
                    <a href="ico.html" class="btn nav-bar-a">Participate</a>
                    <a href="human.html" class="btn nav-bar-a">Operation Humanity</a>
                    <a href="business.html" class="btn nav-bar-a">Start Your Business</a>
                    <!--<a href="dashboard.html" class="btn nav-bar-a">Dashboard</a>-->
                    <a href="market.html" class="btn nav-bar-a">Marketplace</a>
                    <a href="mart/index.html" class="btn nav-bar-a">Merchandise</a>
                    <a href="games.html" class="btn nav-bar-a">Street QRed [Game]</a>
                </div>
            </div>
            <!--</DIV>-->

        </header> <!-- end s-header -->

        <div class="content adjustment">
            <div class="signup-form">
                <div class="heading">
                    <h1>SIGN UP</h1>
                </div>
                <br/>
                <div class="signup-row signup-row-desktop">
                    <div class="name">
                        <p>First Name</p>
                        <p class="signup-error" id="name_error1"><b>* Required</b></p>
                        <input id="fName" type="text" placeholder="First Name" required>
                    </div>
                    <div class="name">
                        <p>Last Name</p>
                        <p class="signup-error" id="name_error2"><b>* Required</b></p>
                        <input id="lName" type="text" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="signup-row-mobile">
                    <div class="name">
                        <p>First Name</p>
                        <p class="signup-error" id="name_error1"><b>* Required</b></p>
                        <input id="fName" type="text" placeholder="First Name" required>
                    </div>
                    <div class="name">
                        <p>Last Name</p>
                        <p class="signup-error" id="name_error2"><b>* Required</b></p>
                        <input id="lName" type="text" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="signup-row">
                    <div class="Email emails">
                        <p>Email</p>
                        <p class="signup-error" id="email_error1"><b>* Required</b></p>
                        <p class="signup-error" id="email_error2"><b>* Invalid Email Address</b></p>
                        <p class="signup-error" id="email_error3"><b>* Email Already Registered</b></p>
                        <input id="email" type="text" placeholder="Email" aria-describedby="name-format" required>
                    </div>
                </div>
                <div class="signup-row">
                    <div class="Email ethaddress">
                        <p>Eth-Address</p>
                        <p class="signup-error" id="eth_error"><b>* Required</b></p>
                        <p class="signup-error" id="eth_error2"><b>* Address Already Registered</b></p>
                        <input id="ethAddress" type="text" placeholder="0xabc12344332">
                    </div>
                </div>
                <div class="signup-row">
                    <div class="Email ethamount">
                        <p>Eth-Amount</p>
                        <p class="signup-error" id="ethamout_error1"><b>* Required * Enter Eth Amount that you want to Participate in ICO</b></p>
                        <p class="signup-error" id="ethamout_error2"><b>Enter only Number</b></p>
                        <input id="ethAmount" type="number" placeholder="123">
                    </div>
                </div>
                <div class="signup-row">
                    <div class="Email reff_code">
                        <p>Referral Code</p>
                        <p class="signup-error" id="ref_err"><b>* Invalid Referral Code</b></p>
                        <input id="reffCode" type="text" placeholder="Refferral Code (Optional)">
                    </div>
                </div>
                <div class="signup-row">
                    <div class="signup-submit">
                        <button id="submit">SUBMIT</button>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer">


            <p>All rights reserved by Ingram Enterprise & Co Pty ltd 2016 in ownership of Solution Token and Solv apparel 2018.
                ACN 613 808 727 ABN 52 613 808 727</p>


        </footer>

    </div>



    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader">
            <div class="line-scale-pulse-out">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>


</div>
<script src="js/jquery-3.2.1.min.js"></script>

<script src="js/plugins.js"></script>
<script src="js/main.js"></script>
<script src="js/jquery-3.2.1.min.js"></script>
<script>
    $(document).ready(function () {


//        $.fn.myFunc = function () {
//            alert('hello world');
//            return this;
//        }

//        $('.emails').removeClass('required_error');



        $('#submit').on('click', function () {
            var first_name = $('#fName').val();
            var last_name = $('#lName').val();
            var email = $('#email').val();
            var eth_amount = $('#ethAmount').val();
            var eth_address = $('#ethAddress').val();
            var ref_code = $('#reffCode').val();

            $('.reff_code').removeClass('required_error');
            document.getElementById("email_error3").style.display="none";
            document.getElementById("eth_error2").style.display="none";
            document.getElementById("ref_err").style.display="none";

            if (first_name == "") {
                document.getElementById("name_error1").style.visibility="visible";
                $('.name').addClass('required_error');
            }
            else{
                document.getElementById("name_error1").style.visibility="hidden";
                $('.name').removeClass('required_error');
            }

            if (last_name == "") {
                document.getElementById("name_error2").style.visibility="visible";
                $('.name').addClass('required_error');
            }
            else{
                document.getElementById("name_error2").style.visibility="hidden";
                $('.name').removeClass('required_error');
            }

            if(email == ""){
                document.getElementById("email_error1").style.display="block";
                document.getElementById("email_error3").style.display="none";
                $('.emails').addClass('required_error');
            }
            else if (!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(email)))
            {
                $('.emails').addClass('required_error');
                document.getElementById("email_error2").style.display="block";
                document.getElementById("email_error1").style.display="none";
                document.getElementById("email_error3").style.display="none";
            }
            else{
                document.getElementById("email_error1").style.display="none";
                document.getElementById("email_error2").style.display="none";
                document.getElementById("email_error3").style.display="none";
                $('.emails').removeClass('required_error');
            }


            if(eth_address == ""){
                $('.ethaddress').addClass('required_error');
                document.getElementById("eth_error").style.display="block";
            }
            else {
                $('.ethaddress').removeClass('required_error');
                document.getElementById("eth_error").style.display="none";
            }
            if(eth_amount == ""){
                $('.ethamount').addClass('required_error');
                document.getElementById("ethamout_error1").style.display="block";
            }
            else if (isNaN(eth_amount)){
                $('.ethamount').addClass('required_error');
                document.getElementById("ethamout_error1").style.display="none";
                document.getElementById("ethamout_error2").style.display="block";
            }
            else {
                $('.ethamount').removeClass('required_error');
                document.getElementById("ethamout_error1").style.display="none";
                document.getElementById("ethamout_error2").style.display="none";
            }

            //  console.log(first_name)


            var settings = {
                "async": true,
                "crossDomain": true,
                "url": "https://54.210.73.187:8000/api/users",
                "method": "POST",
                "headers": {
                    "Content-Type": "application/json",
                },
                "processData": false,
                "data": JSON.stringify({ first_name, last_name, email, eth_amount, eth_address, ref_code })
            }

            $.ajax(settings).done(function (response) {
                console.log(response);
                if(response.success) {
                    console.log(location.hostname);
                    window.location.href = "/dashboard.html"  + '#' + first_name;
                }
                else if (response.message == "email") {
                    $('.emails').addClass('required_error');
                    document.getElementById("email_error2").style.display="none";
                    document.getElementById("email_error1").style.display="none";
                    document.getElementById("email_error3").style.display="inline-block";
                }
                else if (response.message == "address") {
                    $('.ethaddress').addClass('required_error');
                    document.getElementById("eth_error2").style.display="block";
                }
                else if (response.message == "invalid_ref") {
                    $('.reff_code').addClass('required_error');
                    document.getElementById("ref_err").style.display="block";
                }
            })
            .fail(function (err) {
                console.log(err)
            });

        })
    })




</script>




</body>
</html>